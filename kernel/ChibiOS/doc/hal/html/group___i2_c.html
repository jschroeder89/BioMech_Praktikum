<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ChibiOS/HAL: I2C Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/HAL
   &#160;<span id="projectnumber">5.1.3</span>
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i2_c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">I2C Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a> &raquo; <a class="el" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html">Normal Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic I2C Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for I2C Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___i2_c.png" border="0" alt="" usemap="#group______i2__c"/>
<map name="group______i2__c" id="group______i2__c">
<area shape="rect" id="node2" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html" title="HAL Normal Drivers. " alt="" coords="5,5,100,29"/>
</map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic I2C Driver. </p>
<p>This module implements a generic I2C (Inter-Integrated Circuit) driver. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the I2C driver the <code>HAL_USE_I2C</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="i2c_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_6.png" alt="dot_inline_dotgraph_6.png" border="0" usemap="#dot_inline_dotgraph_6.map"/>
<map name="dot_inline_dotgraph_6.map" id="dot_inline_dotgraph_6.map"></map>
</div>
<p> The driver is not thread safe for performance reasons, if you need to access the I2C bus from multiple threads then use the <code><a class="el" href="group___i2_c.html#gace46540c237d310d9ea09f1adfcdb6d5" title="Gains exclusive access to the I2C bus. ">i2cAcquireBus()</a></code> and <code><a class="el" href="group___i2_c.html#gaa160950f37e5ebca45c3ed58d22b4ece" title="Releases exclusive access to the I2C bus. ">i2cReleaseBus()</a></code> APIs in order to gain exclusive access. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga7125642404a6fd3d4985d1cb6e1b7b0a">I2C_USE_MUTUAL_EXCLUSION</a>&#160;&#160;&#160;TRUE</td></tr>
<tr class="memdesc:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the mutual exclusion APIs on the I2C bus.  <a href="#ga7125642404a6fd3d4985d1cb6e1b7b0a">More...</a><br /></td></tr>
<tr class="separator:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbdcf706de5e887880218ba8c1a80a7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gacbdcf706de5e887880218ba8c1a80a7f">_i2c_wakeup_isr</a>(i2cp)</td></tr>
<tr class="memdesc:gacbdcf706de5e887880218ba8c1a80a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the waiting thread notifying no errors.  <a href="#gacbdcf706de5e887880218ba8c1a80a7f">More...</a><br /></td></tr>
<tr class="separator:gacbdcf706de5e887880218ba8c1a80a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab36ee732b1ca760dc156b63b804a9aa4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gab36ee732b1ca760dc156b63b804a9aa4">_i2c_wakeup_error_isr</a>(i2cp)</td></tr>
<tr class="memdesc:gab36ee732b1ca760dc156b63b804a9aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the waiting thread notifying errors.  <a href="#gab36ee732b1ca760dc156b63b804a9aa4">More...</a><br /></td></tr>
<tr class="separator:gab36ee732b1ca760dc156b63b804a9aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b491569bd73afebccc523d933e1e133"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga2b491569bd73afebccc523d933e1e133">i2cMasterTransmit</a>(i2cp,  addr,  txbuf,  txbytes,  rxbuf,  rxbytes)</td></tr>
<tr class="memdesc:ga2b491569bd73afebccc523d933e1e133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap i2cMasterTransmitTimeout function with TIME_INFINITE timeout.  <a href="#ga2b491569bd73afebccc523d933e1e133">More...</a><br /></td></tr>
<tr class="separator:ga2b491569bd73afebccc523d933e1e133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gab90e08fd8049a3b19e1767c9c99cf8e2">i2cMasterReceive</a>(i2cp,  addr,  rxbuf,  rxbytes)&#160;&#160;&#160;(<a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a>(i2cp, addr, rxbuf, rxbytes, TIME_INFINITE))</td></tr>
<tr class="memdesc:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap i2cMasterReceiveTimeout function with TIME_INFINITE timeout.  <a href="#gab90e08fd8049a3b19e1767c9c99cf8e2">More...</a><br /></td></tr>
<tr class="separator:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09cb7515a423098d7011bba890e74ffd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga09cb7515a423098d7011bba890e74ffd">i2c_lld_get_errors</a>(i2cp)&#160;&#160;&#160;((i2cp)-&gt;errors)</td></tr>
<tr class="memdesc:ga09cb7515a423098d7011bba890e74ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get errors from I2C driver.  <a href="#ga09cb7515a423098d7011bba890e74ffd">More...</a><br /></td></tr>
<tr class="separator:ga09cb7515a423098d7011bba890e74ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
I2C bus error conditions</h2></td></tr>
<tr class="memitem:ga36ee30ebc13796e988410515f79a20a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga36ee30ebc13796e988410515f79a20a9">I2C_NO_ERROR</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:ga36ee30ebc13796e988410515f79a20a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">No error.  <a href="#ga36ee30ebc13796e988410515f79a20a9">More...</a><br /></td></tr>
<tr class="separator:ga36ee30ebc13796e988410515f79a20a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6114725ee39085ca2e04af2787b4b666"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga6114725ee39085ca2e04af2787b4b666">I2C_BUS_ERROR</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:ga6114725ee39085ca2e04af2787b4b666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bus Error.  <a href="#ga6114725ee39085ca2e04af2787b4b666">More...</a><br /></td></tr>
<tr class="separator:ga6114725ee39085ca2e04af2787b4b666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2b66d7723f4a139fe688609c6f65eee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gab2b66d7723f4a139fe688609c6f65eee">I2C_ARBITRATION_LOST</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:gab2b66d7723f4a139fe688609c6f65eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arbitration Lost.  <a href="#gab2b66d7723f4a139fe688609c6f65eee">More...</a><br /></td></tr>
<tr class="separator:gab2b66d7723f4a139fe688609c6f65eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcb2b3da85ef6fc5aa20f850c90754e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gadcb2b3da85ef6fc5aa20f850c90754e9">I2C_ACK_FAILURE</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:gadcb2b3da85ef6fc5aa20f850c90754e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge Failure.  <a href="#gadcb2b3da85ef6fc5aa20f850c90754e9">More...</a><br /></td></tr>
<tr class="separator:gadcb2b3da85ef6fc5aa20f850c90754e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd74c663c82687e30ea624d677bc5224"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gafd74c663c82687e30ea624d677bc5224">I2C_OVERRUN</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="memdesc:gafd74c663c82687e30ea624d677bc5224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrun/Underrun.  <a href="#gafd74c663c82687e30ea624d677bc5224">More...</a><br /></td></tr>
<tr class="separator:gafd74c663c82687e30ea624d677bc5224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cc2146aabed2a59936ee8705fdd2ca4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga2cc2146aabed2a59936ee8705fdd2ca4">I2C_PEC_ERROR</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="memdesc:ga2cc2146aabed2a59936ee8705fdd2ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEC Error in reception.  <a href="#ga2cc2146aabed2a59936ee8705fdd2ca4">More...</a><br /></td></tr>
<tr class="separator:ga2cc2146aabed2a59936ee8705fdd2ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa3215f0aa766367f5d34bee80929152"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gafa3215f0aa766367f5d34bee80929152">I2C_TIMEOUT</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:gafa3215f0aa766367f5d34bee80929152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware timeout.  <a href="#gafa3215f0aa766367f5d34bee80929152">More...</a><br /></td></tr>
<tr class="separator:gafa3215f0aa766367f5d34bee80929152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23a1627e9c1657ecd953eb24abd83380"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga23a1627e9c1657ecd953eb24abd83380">I2C_SMB_ALERT</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="memdesc:ga23a1627e9c1657ecd953eb24abd83380"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMBus Alert.  <a href="#ga23a1627e9c1657ecd953eb24abd83380">More...</a><br /></td></tr>
<tr class="separator:ga23a1627e9c1657ecd953eb24abd83380"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
PLATFORM configuration options</h2></td></tr>
<tr class="memitem:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga6499e6cecfd702bac5f3422a9293cfd3">PLATFORM_I2C_USE_I2C1</a>&#160;&#160;&#160;FALSE</td></tr>
<tr class="memdesc:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C1 driver enable switch.  <a href="#ga6499e6cecfd702bac5f3422a9293cfd3">More...</a><br /></td></tr>
<tr class="separator:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa983f993d7e2605d0457413712a1b4e9"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a></td></tr>
<tr class="memdesc:gaa983f993d7e2605d0457413712a1b4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type representing an I2C address.  <a href="#gaa983f993d7e2605d0457413712a1b4e9">More...</a><br /></td></tr>
<tr class="separator:gaa983f993d7e2605d0457413712a1b4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46bb118b8b3da043c3795802cf0ae361"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a></td></tr>
<tr class="memdesc:ga46bb118b8b3da043c3795802cf0ae361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of I2C Driver condition flags.  <a href="#ga46bb118b8b3da043c3795802cf0ae361">More...</a><br /></td></tr>
<tr class="separator:ga46bb118b8b3da043c3795802cf0ae361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea6c83126ae7e60a10ee0952dd97989a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_i2_c_driver.html">I2CDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaea6c83126ae7e60a10ee0952dd97989a">I2CDriver</a></td></tr>
<tr class="memdesc:gaea6c83126ae7e60a10ee0952dd97989a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a structure representing an I2C driver.  <a href="#gaea6c83126ae7e60a10ee0952dd97989a">More...</a><br /></td></tr>
<tr class="separator:gaea6c83126ae7e60a10ee0952dd97989a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_config.html">I2CConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of I2C driver configuration structure.  <a href="struct_i2_c_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an I2C driver.  <a href="struct_i2_c_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476">i2cInit</a> (void)</td></tr>
<tr class="memdesc:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C Driver initialization.  <a href="#ga1e0a81a1ad1fd7710ca189236e3e5476">More...</a><br /></td></tr>
<tr class="separator:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9">i2cObjectInit</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> structure.  <a href="#ga2dd7be686d8e136b1deebfeb20e868f9">More...</a><br /></td></tr>
<tr class="separator:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gadcd08e752dbbeccdfc8abfa8a718c09e">i2cStart</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, const <a class="el" href="struct_i2_c_config.html">I2CConfig</a> *config)</td></tr>
<tr class="memdesc:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the I2C peripheral.  <a href="#gadcd08e752dbbeccdfc8abfa8a718c09e">More...</a><br /></td></tr>
<tr class="separator:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9a5db1cb98898c848705f99b8fedb48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa9a5db1cb98898c848705f99b8fedb48">i2cStop</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gaa9a5db1cb98898c848705f99b8fedb48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the I2C peripheral.  <a href="#gaa9a5db1cb98898c848705f99b8fedb48">More...</a><br /></td></tr>
<tr class="separator:gaa9a5db1cb98898c848705f99b8fedb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74564623966bab022e6905e81126c5e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4">i2cGetErrors</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga74564623966bab022e6905e81126c5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the errors mask associated to the previous operation.  <a href="#ga74564623966bab022e6905e81126c5e4">More...</a><br /></td></tr>
<tr class="separator:ga74564623966bab022e6905e81126c5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57039ea5e6f70691b667a14248618967"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga57039ea5e6f70691b667a14248618967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data via the I2C bus.  <a href="#ga57039ea5e6f70691b667a14248618967">More...</a><br /></td></tr>
<tr class="separator:ga57039ea5e6f70691b667a14248618967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data from the I2C bus.  <a href="#gaae9d6a3ad4a861c4f467c6c9c295f01c">More...</a><br /></td></tr>
<tr class="separator:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace46540c237d310d9ea09f1adfcdb6d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gace46540c237d310d9ea09f1adfcdb6d5">i2cAcquireBus</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gace46540c237d310d9ea09f1adfcdb6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gains exclusive access to the I2C bus.  <a href="#gace46540c237d310d9ea09f1adfcdb6d5">More...</a><br /></td></tr>
<tr class="separator:gace46540c237d310d9ea09f1adfcdb6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa160950f37e5ebca45c3ed58d22b4ece">i2cReleaseBus</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases exclusive access to the I2C bus.  <a href="#gaa160950f37e5ebca45c3ed58d22b4ece">More...</a><br /></td></tr>
<tr class="separator:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae1796056a2fa05caa11a243183b19c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init</a> (void)</td></tr>
<tr class="memdesc:gaae1796056a2fa05caa11a243183b19c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level I2C driver initialization.  <a href="#gaae1796056a2fa05caa11a243183b19c2">More...</a><br /></td></tr>
<tr class="separator:gaae1796056a2fa05caa11a243183b19c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fd0ebb0927e07541283b693749a6e01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01">i2c_lld_start</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga8fd0ebb0927e07541283b693749a6e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the I2C peripheral.  <a href="#ga8fd0ebb0927e07541283b693749a6e01">More...</a><br /></td></tr>
<tr class="separator:ga8fd0ebb0927e07541283b693749a6e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda">i2c_lld_stop</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the I2C peripheral.  <a href="#ga1f4077630d5bfcc44699b2a9c6622bda">More...</a><br /></td></tr>
<tr class="separator:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">i2c_lld_master_receive_timeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data via the I2C bus as master.  <a href="#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">More...</a><br /></td></tr>
<tr class="separator:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga901daa9967d501fce0923d33b6cffa12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12">i2c_lld_master_transmit_timeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga901daa9967d501fce0923d33b6cffa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits data via the I2C bus as master.  <a href="#ga901daa9967d501fce0923d33b6cffa12">More...</a><br /></td></tr>
<tr class="separator:ga901daa9967d501fce0923d33b6cffa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga397503430a0120a5b69ae2535d39b310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga397503430a0120a5b69ae2535d39b310">I2CD1</a></td></tr>
<tr class="memdesc:ga397503430a0120a5b69ae2535d39b310"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C1 driver identifier.  <a href="#ga397503430a0120a5b69ae2535d39b310">More...</a><br /></td></tr>
<tr class="separator:ga397503430a0120a5b69ae2535d39b310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga36ee30ebc13796e988410515f79a20a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_NO_ERROR&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No error. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00043">43</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout()</a>, and <a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6114725ee39085ca2e04af2787b4b666"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BUS_ERROR&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bus Error. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00044">44</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab2b66d7723f4a139fe688609c6f65eee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_ARBITRATION_LOST&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arbitration Lost. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00045">45</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gadcb2b3da85ef6fc5aa20f850c90754e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_ACK_FAILURE&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge Failure. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00046">46</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafd74c663c82687e30ea624d677bc5224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_OVERRUN&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overrun/Underrun. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00047">47</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2cc2146aabed2a59936ee8705fdd2ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_PEC_ERROR&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PEC Error in reception. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00048">48</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafa3215f0aa766367f5d34bee80929152"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_TIMEOUT&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware timeout. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00051">51</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga23a1627e9c1657ecd953eb24abd83380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_SMB_ALERT&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMBus Alert. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00052">52</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7125642404a6fd3d4985d1cb6e1b7b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_USE_MUTUAL_EXCLUSION&#160;&#160;&#160;TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the mutual exclusion APIs on the I2C bus. </p>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00063">63</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacbdcf706de5e887880218ba8c1a80a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _i2c_wakeup_isr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                          <a class="code" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">  osalSysLockFromISR</a>();                                                     <a class="code" href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">  osalThreadResumeI</a>(&amp;(i2cp)-&gt;thread, MSG_OK);                               <a class="code" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">  osalSysUnlockFromISR</a>();                                                   \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="group___o_s_a_l_html_ga32db980c54089fe21370432a7a884e9f"><div class="ttname"><a href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">osalSysLockFromISR</a></div><div class="ttdeci">static void osalSysLockFromISR(void)</div><div class="ttdoc">Enters a critical zone from ISR context. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8h_source.html#l00537">osal.h:537</a></div></div>
<div class="ttc" id="group___o_s_a_l_html_gab53a8f4b21ad79b9d2203eff4c72b529"><div class="ttname"><a href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">osalSysUnlockFromISR</a></div><div class="ttdeci">static void osalSysUnlockFromISR(void)</div><div class="ttdoc">Leaves a critical zone from ISR context. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8h_source.html#l00547">osal.h:547</a></div></div>
<div class="ttc" id="group___o_s_a_l_html_ga6b620eb4daf8bd0ce536d2a9bac266f9"><div class="ttname"><a href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">osalThreadResumeI</a></div><div class="ttdeci">void osalThreadResumeI(thread_reference_t *trp, msg_t msg)</div><div class="ttdoc">Wakes up a thread waiting on a thread reference object. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8c_source.html#l00230">osal.c:230</a></div></div>
</div><!-- fragment -->
<p>Wakes up the waiting thread notifying no errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00099">99</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab36ee732b1ca760dc156b63b804a9aa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _i2c_wakeup_error_isr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    <a class="code" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">  osalSysLockFromISR</a>();                                                     <a class="code" href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">  osalThreadResumeI</a>(&amp;(i2cp)-&gt;thread, MSG_RESET);                            <a class="code" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">\</a></div><div class="line"><a class="code" href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">  osalSysUnlockFromISR</a>();                                                   \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="group___o_s_a_l_html_ga32db980c54089fe21370432a7a884e9f"><div class="ttname"><a href="group___o_s_a_l.html#ga32db980c54089fe21370432a7a884e9f">osalSysLockFromISR</a></div><div class="ttdeci">static void osalSysLockFromISR(void)</div><div class="ttdoc">Enters a critical zone from ISR context. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8h_source.html#l00537">osal.h:537</a></div></div>
<div class="ttc" id="group___o_s_a_l_html_gab53a8f4b21ad79b9d2203eff4c72b529"><div class="ttname"><a href="group___o_s_a_l.html#gab53a8f4b21ad79b9d2203eff4c72b529">osalSysUnlockFromISR</a></div><div class="ttdeci">static void osalSysUnlockFromISR(void)</div><div class="ttdoc">Leaves a critical zone from ISR context. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8h_source.html#l00547">osal.h:547</a></div></div>
<div class="ttc" id="group___o_s_a_l_html_ga6b620eb4daf8bd0ce536d2a9bac266f9"><div class="ttname"><a href="group___o_s_a_l.html#ga6b620eb4daf8bd0ce536d2a9bac266f9">osalThreadResumeI</a></div><div class="ttdeci">void osalThreadResumeI(thread_reference_t *trp, msg_t msg)</div><div class="ttdoc">Wakes up a thread waiting on a thread reference object. </div><div class="ttdef"><b>Definition:</b> <a href="osal_8c_source.html#l00230">osal.c:230</a></div></div>
</div><!-- fragment -->
<p>Wakes up the waiting thread notifying errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00112">112</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b491569bd73afebccc523d933e1e133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2cMasterTransmit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">txbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">txbytes, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a>(i2cp, addr, txbuf, txbytes, rxbuf, rxbytes,     \</div><div class="line">                            TIME_INFINITE))</div><div class="ttc" id="group___i2_c_html_ga57039ea5e6f70691b667a14248618967"><div class="ttname"><a href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a></div><div class="ttdeci">msg_t i2cMasterTransmitTimeout(I2CDriver *i2cp, i2caddr_t addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, systime_t timeout)</div><div class="ttdoc">Sends data via the I2C bus. </div><div class="ttdef"><b>Definition:</b> <a href="hal__i2c_8c_source.html#l00170">hal_i2c.c:170</a></div></div>
</div><!-- fragment -->
<p>Wrap i2cMasterTransmitTimeout function with TIME_INFINITE timeout. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00122">122</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab90e08fd8049a3b19e1767c9c99cf8e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2cMasterReceive</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a>(i2cp, addr, rxbuf, rxbytes, TIME_INFINITE))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrap i2cMasterReceiveTimeout function with TIME_INFINITE timeout. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00130">130</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6499e6cecfd702bac5f3422a9293cfd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_I2C_USE_I2C1&#160;&#160;&#160;FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C1 driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for I2C1 is included. </p><dl class="section note"><dt>Note</dt><dd>The default is <code>FALSE</code>. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8h_source.html#l00048">48</a> of file <a class="el" href="hal__i2c__lld_8h_source.html">hal_i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga09cb7515a423098d7011bba890e74ffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c_lld_get_errors</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp</td><td>)</td>
          <td>&#160;&#160;&#160;((i2cp)-&gt;errors)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get errors from I2C driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8h_source.html#l00121">121</a> of file <a class="el" href="hal__i2c__lld_8h_source.html">hal_i2c_lld.h</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4">i2cGetErrors()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaa983f993d7e2605d0457413712a1b4e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type representing an I2C address. </p>

<p>Definition at line <a class="el" href="hal__i2c__lld_8h_source.html#l00063">63</a> of file <a class="el" href="hal__i2c__lld_8h_source.html">hal_i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga46bb118b8b3da043c3795802cf0ae361"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of I2C Driver condition flags. </p>

<p>Definition at line <a class="el" href="hal__i2c__lld_8h_source.html#l00068">68</a> of file <a class="el" href="hal__i2c__lld_8h_source.html">hal_i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaea6c83126ae7e60a10ee0952dd97989a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_i2_c_driver.html">I2CDriver</a> <a class="el" href="struct_i2_c_driver.html">I2CDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a structure representing an I2C driver. </p>

<p>Definition at line <a class="el" href="hal__i2c__lld_8h_source.html#l00083">83</a> of file <a class="el" href="hal__i2c__lld_8h_source.html">hal_i2c_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaa1dcc46f251555b674d3376605ca6649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___i2_c.html#gaa1dcc46f251555b674d3376605ca6649">i2cstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a6c1204af4172839f6bfdf53e6711240d"></a>I2C_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85"></a>I2C_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919"></a>I2C_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a568157ec8d2ebd8586b51035b4614bf9"></a>I2C_ACTIVE_TX&#160;</td><td class="fielddoc">
<p>Transmitting. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649add3c2e1e6305871cd64b6ed50ea69f0e"></a>I2C_ACTIVE_RX&#160;</td><td class="fielddoc">
<p>Receiving. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="hal__i2c_8h_source.html#l00077">77</a> of file <a class="el" href="hal__i2c_8h_source.html">hal_i2c.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1e0a81a1ad1fd7710ca189236e3e5476"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00059">59</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init()</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph.png" border="0" usemap="#group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph" alt=""/></div>
<map name="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph" id="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2" title="Low level I2C driver initialization. " alt="" coords="103,5,173,29"/>
<area shape="rect" id="node3" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9" title="Initializes the standard part of a I2CDriver structure. " alt="" coords="221,5,300,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2dd7be686d8e136b1deebfeb20e868f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00071">71</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="struct_i2_c_driver.html#a1cf6263dc3ca7e5eba7102f0f95d32b4">I2CDriver::config</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, <a class="el" href="group___o_s_a_l.html#ga156fb36e0f0ea799f2bfe31970337de7">osalMutexObjectInit()</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph.png" border="0" usemap="#group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph" alt=""/></div>
<map name="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph" id="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga156fb36e0f0ea799f2bfe31970337de7" title="Initializes s mutex_t object. " alt="" coords="132,5,247,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadcd08e752dbbeccdfc8abfa8a718c09e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i2_c_config.html">I2CConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code><a class="el" href="struct_i2_c_config.html" title="Type of I2C driver configuration structure. ">I2CConfig</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00093">93</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="struct_i2_c_driver.html#a1cf6263dc3ca7e5eba7102f0f95d32b4">I2CDriver::config</a>, <a class="el" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01">i2c_lld_start()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph.png" border="0" usemap="#group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph" alt=""/></div>
<map name="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph" id="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01" title="Configures and activates the I2C peripheral. " alt="" coords="118,5,197,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="117,53,197,77"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="112,101,203,125"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa9a5db1cb98898c848705f99b8fedb48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00113">113</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="struct_i2_c_driver.html#a1cf6263dc3ca7e5eba7102f0f95d32b4">I2CDriver::config</a>, <a class="el" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda">i2c_lld_stop()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph.png" border="0" usemap="#group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph" alt=""/></div>
<map name="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph" id="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda" title="Deactivates the I2C peripheral. " alt="" coords="117,5,195,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="116,53,196,77"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="111,101,201,125"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga74564623966bab022e6905e81126c5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a> i2cGetErrors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the errors mask associated to the previous operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The errors mask.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00137">137</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ga09cb7515a423098d7011bba890e74ffd">i2c_lld_get_errors</a>, and <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>.</p>

</div>
</div>
<a class="anchor" id="ga57039ea5e6f70691b667a14248618967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2cMasterTransmitTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>txbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data via the I2C bus. </p>
<p>Function designed to realize "read-through-write" transfer paradigm. If you want transmit data without any further read, than set <b>rxbytes</b> field to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address (7 bits) without R/W bit </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>pointer to transmit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbytes</td><td>number of bytes to be transmitted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received, set it to 0 if you want transmit only </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MSG_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">MSG_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">MSG_TIMEOUT</td><td>if a timeout occurred before operation end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00170">170</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="struct_i2_c_driver.html#a4226d866b06ef8f0c4fa2d72c20aaaf5">I2CDriver::errors</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a568157ec8d2ebd8586b51035b4614bf9">I2C_ACTIVE_TX</a>, <a class="el" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12">i2c_lld_master_transmit_timeout()</a>, <a class="el" href="group___i2_c.html#ga36ee30ebc13796e988410515f79a20a9">I2C_NO_ERROR</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph.png" border="0" usemap="#group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph" alt=""/></div>
<map name="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph" id="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12" title="Transmits data via the I2C bus as master. " alt="" coords="203,5,337,41"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="230,66,310,90"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="225,114,315,138"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaae9d6a3ad4a861c4f467c6c9c295f01c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2cMasterReceiveTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data from the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address (7 bits) without R/W bit </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MSG_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">MSG_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">MSG_TIMEOUT</td><td>if a timeout occurred before operation end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00221">221</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="struct_i2_c_driver.html#a4226d866b06ef8f0c4fa2d72c20aaaf5">I2CDriver::errors</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649add3c2e1e6305871cd64b6ed50ea69f0e">I2C_ACTIVE_RX</a>, <a class="el" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">i2c_lld_master_receive_timeout()</a>, <a class="el" href="group___i2_c.html#ga36ee30ebc13796e988410515f79a20a9">I2C_NO_ERROR</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___o_s_a_l.html#gad2c73ec79f38fe705784c3b51426fef7">osalDbgAssert</a>, <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, <a class="el" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa">osalSysLock()</a>, <a class="el" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543">osalSysUnlock()</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph.png" border="0" usemap="#group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph" alt=""/></div>
<map name="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph" id="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2" title="Receives data via the I2C bus as master. " alt="" coords="199,5,329,41"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga0cb5e528b0114b4ca61c2eb65a0515fa" title="Enters a critical zone from thread context. " alt="" coords="224,66,304,90"/>
<area shape="rect" id="node4" href="group___o_s_a_l.html#ga17dbf4a1761019b8d94f43832c506543" title="Leaves a critical zone from thread context. " alt="" coords="219,114,309,138"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gace46540c237d310d9ea09f1adfcdb6d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cAcquireBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gains exclusive access to the I2C bus. </p>
<p>This function tries to gain ownership to the I2C bus, if the bus is already being used then the invoking thread is queued. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>I2C_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00261">261</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, and <a class="el" href="group___o_s_a_l.html#ga61d5ae617457911ada2c83295c597348">osalMutexLock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph.png" border="0" usemap="#group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph" alt=""/></div>
<map name="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph" id="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#ga61d5ae617457911ada2c83295c597348" title="Locks the specified mutex. " alt="" coords="143,5,235,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa160950f37e5ebca45c3ed58d22b4ece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cReleaseBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases exclusive access to the I2C bus. </p>
<dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>I2C_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c_8c_source.html#l00277">277</a> of file <a class="el" href="hal__i2c_8c_source.html">hal_i2c.c</a>.</p>

<p>References <a class="el" href="group___o_s_a_l.html#gadf56fc259582a041ae47bcabe5f49b00">osalDbgCheck</a>, and <a class="el" href="group___o_s_a_l.html#gada8042421242b8adc729f25f9ba746db">osalMutexUnlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph.png" border="0" usemap="#group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph" alt=""/></div>
<map name="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph" id="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph">
<area shape="rect" id="node2" href="group___o_s_a_l.html#gada8042421242b8adc729f25f9ba746db" title="Unlocks the specified mutex. " alt="" coords="145,5,248,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaae1796056a2fa05caa11a243183b19c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level I2C driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00065">65</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9">i2cObjectInit()</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476">i2cInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph.png" border="0" usemap="#group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph" alt=""/></div>
<map name="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph" id="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9" title="Initializes the standard part of a I2CDriver structure. " alt="" coords="124,5,203,29"/>
<area shape="rect" id="node3" href="group___o_s_a_l.html#ga156fb36e0f0ea799f2bfe31970337de7" title="Initializes s mutex_t object. " alt="" coords="251,5,365,29"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8fd0ebb0927e07541283b693749a6e01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00079">79</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gadcd08e752dbbeccdfc8abfa8a718c09e">i2cStart()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f4077630d5bfcc44699b2a9c6622bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00099">99</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaa9a5db1cb98898c848705f99b8fedb48">i2cStop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c2a91aabcd3a3ce56ce6b48e9091dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2c_lld_master_receive_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data via the I2C bus as master. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to the receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MSG_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">MSG_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">MSG_TIMEOUT</td><td>if a timeout occurred before operation end. <b>After a timeout the driver must be stopped and restarted because the bus is in an uncertain state</b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00133">133</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ga901daa9967d501fce0923d33b6cffa12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___o_s_a_l.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2c_lld_master_transmit_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>txbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___o_s_a_l.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits data via the I2C bus as master. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>pointer to the transmit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbytes</td><td>number of bytes to be transmitted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to the receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MSG_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">MSG_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">MSG_TIMEOUT</td><td>if a timeout occurred before operation end. <b>After a timeout the driver must be stopped and restarted because the bus is in an uncertain state</b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00169">169</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga397503430a0120a5b69ae2535d39b310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> I2CD1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C1 driver identifier. </p>

<p>Definition at line <a class="el" href="hal__i2c__lld_8c_source.html#l00041">41</a> of file <a class="el" href="hal__i2c__lld_8c_source.html">hal_i2c_lld.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Apr 17 2018 16:16:15 for ChibiOS/HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
