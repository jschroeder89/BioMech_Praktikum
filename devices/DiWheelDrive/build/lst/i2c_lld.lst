ARM GAS  /tmp/cc3TIWia.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"i2c_lld.c"
  15              		.section	.text.i2c_lld_serve_event_interrupt,"ax",%progbits
  16              		.align	2
  17              		.p2align 4,,15
  18              		.thumb
  19              		.thumb_func
  20              		.type	i2c_lld_serve_event_interrupt, %function
  21              	i2c_lld_serve_event_interrupt:
  22              		@ args = 0, pretend = 0, frame = 0
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24 0000 38B5     		push	{r3, r4, r5, lr}
  25 0002 446B     		ldr	r4, [r0, #52]
  26 0004 7F4A     		ldr	r2, .L53
  27 0006 218B     		ldrh	r1, [r4, #24]
  28 0008 A38A     		ldrh	r3, [r4, #20]
  29 000a 0546     		mov	r5, r0
  30 000c 9BB2     		uxth	r3, r3
  31 000e 43EA0143 		orr	r3, r3, r1, lsl #16
  32 0012 23F07F43 		bic	r3, r3, #-16777216
  33 0016 9342     		cmp	r3, r2
  34 0018 00F09F80 		beq	.L3
  35 001c 18D9     		bls	.L47
  36 001e 7A4A     		ldr	r2, .L53+4
  37 0020 9342     		cmp	r3, r2
  38 0022 00F08F80 		beq	.L8
  39 0026 3DD9     		bls	.L48
  40 0028 784A     		ldr	r2, .L53+8
  41 002a 9342     		cmp	r3, r2
  42 002c 28D0     		beq	.L11
  43 002e 0232     		adds	r2, r2, #2
  44 0030 9342     		cmp	r3, r2
  45 0032 15D1     		bne	.L2
  46 0034 836A     		ldr	r3, [r0, #40]
  47 0036 002B     		cmp	r3, #0
  48 0038 00F0AC80 		beq	.L25
  49 003c 2388     		ldrh	r3, [r4]
  50 003e 028C     		ldrh	r2, [r0, #32]
  51 0040 9BB2     		uxth	r3, r3
  52 0042 43F4A063 		orr	r3, r3, #1280
  53 0046 42F00102 		orr	r2, r2, #1
  54 004a 0284     		strh	r2, [r0, #32]	@ movhi
  55 004c 2380     		strh	r3, [r4]	@ movhi
  56 004e 38BD     		pop	{r3, r4, r5, pc}
  57              	.L47:
ARM GAS  /tmp/cc3TIWia.s 			page 2


  58 0050 3F3A     		subs	r2, r2, #63
  59 0052 9342     		cmp	r3, r2
  60 0054 5BD0     		beq	.L5
  61 0056 0132     		adds	r2, r2, #1
  62 0058 9342     		cmp	r3, r2
  63 005a 06D0     		beq	.L6
  64 005c 402B     		cmp	r3, #64
  65 005e 5ED0     		beq	.L49
  66              	.L2:
  67 0060 AB6A     		ldr	r3, [r5, #40]
  68 0062 012B     		cmp	r3, #1
  69 0064 00F0C880 		beq	.L50
  70              	.L1:
  71 0068 38BD     		pop	{r3, r4, r5, pc}
  72              	.L6:
  73 006a 836A     		ldr	r3, [r0, #40]
  74 006c 022B     		cmp	r3, #2
  75 006e 00F0B680 		beq	.L16
  76 0072 032B     		cmp	r3, #3
  77 0074 00F0B180 		beq	.L17
  78 0078 012B     		cmp	r3, #1
  79 007a 7ED0     		beq	.L51
  80 007c 238B     		ldrh	r3, [r4, #24]
  81 007e 38BD     		pop	{r3, r4, r5, pc}
  82              	.L11:
  83 0080 C36A     		ldr	r3, [r0, #44]
  84 0082 026B     		ldr	r2, [r0, #48]
  85 0084 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
  86 0088 013A     		subs	r2, r2, #1
  87 008a 208B     		ldrh	r0, [r4, #24]
  88 008c 2182     		strh	r1, [r4, #16]	@ movhi
  89 008e EB62     		str	r3, [r5, #44]
  90 0090 2A63     		str	r2, [r5, #48]
  91 0092 002A     		cmp	r2, #0
  92 0094 E8D1     		bne	.L1
  93              	.L40:
  94 0096 A388     		ldrh	r3, [r4, #4]
  95 0098 23F48063 		bic	r3, r3, #1024
  96 009c 1B04     		lsls	r3, r3, #16
  97 009e 1B0C     		lsrs	r3, r3, #16
  98 00a0 A380     		strh	r3, [r4, #4]	@ movhi
  99 00a2 38BD     		pop	{r3, r4, r5, pc}
 100              	.L48:
 101 00a4 5A4A     		ldr	r2, .L53+12
 102 00a6 9342     		cmp	r3, r2
 103 00a8 DAD1     		bne	.L2
 104 00aa 836A     		ldr	r3, [r0, #40]
 105 00ac 426A     		ldr	r2, [r0, #36]
 106 00ae 032B     		cmp	r3, #3
 107 00b0 2388     		ldrh	r3, [r4]
 108 00b2 75D0     		beq	.L52
 109 00b4 9BB2     		uxth	r3, r3
 110 00b6 43F40073 		orr	r3, r3, #512
 111 00ba 2380     		strh	r3, [r4]	@ movhi
 112 00bc 218A     		ldrh	r1, [r4, #16]
 113 00be 2023     		movs	r3, #32
 114 00c0 1170     		strb	r1, [r2]
ARM GAS  /tmp/cc3TIWia.s 			page 3


 115 00c2 426A     		ldr	r2, [r0, #36]
 116 00c4 218A     		ldrh	r1, [r4, #16]
 117 00c6 501C     		adds	r0, r2, #1
 118 00c8 6862     		str	r0, [r5, #36]
 119 00ca 5170     		strb	r1, [r2, #1]
 120 00cc 2288     		ldrh	r2, [r4]
 121 00ce A96A     		ldr	r1, [r5, #40]
 122 00d0 22F40062 		bic	r2, r2, #2048
 123 00d4 1204     		lsls	r2, r2, #16
 124 00d6 0239     		subs	r1, r1, #2
 125 00d8 120C     		lsrs	r2, r2, #16
 126 00da A962     		str	r1, [r5, #40]
 127              	.L43:
 128 00dc 2280     		strh	r2, [r4]	@ movhi
 129 00de A288     		ldrh	r2, [r4, #4]
 130 00e0 22F4C062 		bic	r2, r2, #1536
 131 00e4 1204     		lsls	r2, r2, #16
 132 00e6 120C     		lsrs	r2, r2, #16
 133              	.L45:
 134 00e8 A280     		strh	r2, [r4, #4]	@ movhi
 135              	@ 473 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 136 00ea 83F31188 		msr     BASEPRI, r3
 137              	@ 0 "" 2
 138              		.thumb
 139 00ee FFF7FEFF 		bl	dbg_check_lock_from_isr
 140 00f2 EB69     		ldr	r3, [r5, #28]
 141 00f4 2BB1     		cbz	r3, .L26
 142 00f6 0022     		movs	r2, #0
 143 00f8 EA61     		str	r2, [r5, #28]
 144 00fa 1846     		mov	r0, r3
 145 00fc 9A62     		str	r2, [r3, #40]
 146 00fe FFF7FEFF 		bl	chSchReadyI
 147              	.L26:
 148 0102 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 149 0106 0023     		movs	r3, #0
 150              	@ 473 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 151 0108 83F31188 		msr     BASEPRI, r3
 152              	@ 0 "" 2
 153              		.thumb
 154 010c 38BD     		pop	{r3, r4, r5, pc}
 155              	.L5:
 156 010e A288     		ldrh	r2, [r4, #4]
 157 0110 038C     		ldrh	r3, [r0, #32]
 158 0112 92B2     		uxth	r2, r2
 159 0114 42F48062 		orr	r2, r2, #1024
 160 0118 A280     		strh	r2, [r4, #4]	@ movhi
 161 011a 2382     		strh	r3, [r4, #16]	@ movhi
 162 011c 38BD     		pop	{r3, r4, r5, pc}
 163              	.L49:
 164 011e 836A     		ldr	r3, [r0, #40]
 165 0120 012B     		cmp	r3, #1
 166 0122 02D0     		beq	.L21
 167 0124 3B48     		ldr	r0, .L53+16
 168 0126 FFF7FEFF 		bl	chDbgPanic
 169              	.L21:
 170 012a 218A     		ldrh	r1, [r4, #16]
 171 012c 6A6A     		ldr	r2, [r5, #36]
ARM GAS  /tmp/cc3TIWia.s 			page 4


 172 012e 2023     		movs	r3, #32
 173 0130 1170     		strb	r1, [r2]
 174 0132 A288     		ldrh	r2, [r4, #4]
 175 0134 A96A     		ldr	r1, [r5, #40]
 176 0136 22F4C062 		bic	r2, r2, #1536
 177 013a 1204     		lsls	r2, r2, #16
 178 013c 0139     		subs	r1, r1, #1
 179 013e 120C     		lsrs	r2, r2, #16
 180 0140 A962     		str	r1, [r5, #40]
 181 0142 D1E7     		b	.L45
 182              	.L8:
 183 0144 C36A     		ldr	r3, [r0, #44]
 184 0146 026B     		ldr	r2, [r0, #48]
 185 0148 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
 186 014c 013A     		subs	r2, r2, #1
 187 014e 2182     		strh	r1, [r4, #16]	@ movhi
 188 0150 C362     		str	r3, [r0, #44]
 189 0152 0263     		str	r2, [r0, #48]
 190 0154 002A     		cmp	r2, #0
 191 0156 87D1     		bne	.L1
 192 0158 9DE7     		b	.L40
 193              	.L3:
 194 015a 836A     		ldr	r3, [r0, #40]
 195 015c 032B     		cmp	r3, #3
 196 015e 08D9     		bls	.L19
 197 0160 228A     		ldrh	r2, [r4, #16]
 198 0162 436A     		ldr	r3, [r0, #36]
 199 0164 1A70     		strb	r2, [r3]
 200 0166 426A     		ldr	r2, [r0, #36]
 201 0168 836A     		ldr	r3, [r0, #40]
 202 016a 0132     		adds	r2, r2, #1
 203 016c 013B     		subs	r3, r3, #1
 204 016e 4262     		str	r2, [r0, #36]
 205 0170 8362     		str	r3, [r0, #40]
 206              	.L19:
 207 0172 032B     		cmp	r3, #3
 208 0174 7FF478AF 		bne	.L1
 209 0178 8DE7     		b	.L40
 210              	.L51:
 211 017a 2388     		ldrh	r3, [r4]
 212 017c 23F48063 		bic	r3, r3, #1024
 213 0180 1B04     		lsls	r3, r3, #16
 214 0182 1B0C     		lsrs	r3, r3, #16
 215 0184 2380     		strh	r3, [r4]	@ movhi
 216 0186 238B     		ldrh	r3, [r4, #24]
 217 0188 2388     		ldrh	r3, [r4]
 218 018a 9BB2     		uxth	r3, r3
 219 018c 43F40073 		orr	r3, r3, #512
 220 0190 2380     		strh	r3, [r4]	@ movhi
 221 0192 38BD     		pop	{r3, r4, r5, pc}
 222              	.L25:
 223 0194 2288     		ldrh	r2, [r4]
 224 0196 2023     		movs	r3, #32
 225 0198 92B2     		uxth	r2, r2
 226 019a 42F40072 		orr	r2, r2, #512
 227 019e 9DE7     		b	.L43
 228              	.L52:
ARM GAS  /tmp/cc3TIWia.s 			page 5


 229 01a0 23F48063 		bic	r3, r3, #1024
 230 01a4 1B04     		lsls	r3, r3, #16
 231 01a6 1B0C     		lsrs	r3, r3, #16
 232 01a8 2380     		strh	r3, [r4]	@ movhi
 233 01aa 238A     		ldrh	r3, [r4, #16]
 234 01ac 1370     		strb	r3, [r2]
 235 01ae 2288     		ldrh	r2, [r4]
 236 01b0 436A     		ldr	r3, [r0, #36]
 237 01b2 92B2     		uxth	r2, r2
 238 01b4 591C     		adds	r1, r3, #1
 239 01b6 42F40072 		orr	r2, r2, #512
 240 01ba 4162     		str	r1, [r0, #36]
 241 01bc 2280     		strh	r2, [r4]	@ movhi
 242 01be 228A     		ldrh	r2, [r4, #16]
 243 01c0 5A70     		strb	r2, [r3, #1]
 244 01c2 A188     		ldrh	r1, [r4, #4]
 245 01c4 426A     		ldr	r2, [r0, #36]
 246 01c6 836A     		ldr	r3, [r0, #40]
 247 01c8 89B2     		uxth	r1, r1
 248 01ca 41F48061 		orr	r1, r1, #1024
 249 01ce 0132     		adds	r2, r2, #1
 250 01d0 023B     		subs	r3, r3, #2
 251 01d2 4262     		str	r2, [r0, #36]
 252 01d4 8362     		str	r3, [r0, #40]
 253 01d6 A180     		strh	r1, [r4, #4]	@ movhi
 254 01d8 38BD     		pop	{r3, r4, r5, pc}
 255              	.L17:
 256 01da 238B     		ldrh	r3, [r4, #24]
 257 01dc 5BE7     		b	.L40
 258              	.L16:
 259 01de 238B     		ldrh	r3, [r4, #24]
 260 01e0 2388     		ldrh	r3, [r4]
 261 01e2 9BB2     		uxth	r3, r3
 262 01e4 43F40063 		orr	r3, r3, #2048
 263 01e8 2380     		strh	r3, [r4]	@ movhi
 264 01ea 2388     		ldrh	r3, [r4]
 265 01ec 23F48063 		bic	r3, r3, #1024
 266 01f0 1B04     		lsls	r3, r3, #16
 267 01f2 1B0C     		lsrs	r3, r3, #16
 268 01f4 2380     		strh	r3, [r4]	@ movhi
 269 01f6 4EE7     		b	.L40
 270              	.L50:
 271 01f8 0648     		ldr	r0, .L53+16
 272 01fa BDE83840 		pop	{r3, r4, r5, lr}
 273 01fe FFF7FEBF 		b	chDbgPanic
 274              	.L54:
 275 0202 00BF     		.align	2
 276              	.L53:
 277 0204 40000300 		.word	196672
 278 0208 80000700 		.word	458880
 279 020c 82000700 		.word	458882
 280 0210 44000300 		.word	196676
 281 0214 00000000 		.word	.LC0
 282              		.size	i2c_lld_serve_event_interrupt, .-i2c_lld_serve_event_interrupt
 283              		.section	.text.i2c_lld_serve_error_interrupt,"ax",%progbits
 284              		.align	2
 285              		.p2align 4,,15
ARM GAS  /tmp/cc3TIWia.s 			page 6


 286              		.thumb
 287              		.thumb_func
 288              		.type	i2c_lld_serve_error_interrupt, %function
 289              	i2c_lld_serve_error_interrupt:
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292 0000 01F48073 		and	r3, r1, #256
 293 0004 9BB2     		uxth	r3, r3
 294 0006 10B5     		push	{r4, lr}
 295 0008 0446     		mov	r4, r0
 296 000a 03B1     		cbz	r3, .L88
 297 000c 0123     		movs	r3, #1
 298              	.L88:
 299 000e 8805     		lsls	r0, r1, #22
 300 0010 A360     		str	r3, [r4, #8]
 301 0012 44BF     		itt	mi
 302 0014 43F00203 		orrmi	r3, r3, #2
 303 0018 A360     		strmi	r3, [r4, #8]
 304 001a 4A05     		lsls	r2, r1, #21
 305 001c 0ED5     		bpl	.L59
 306 001e 606B     		ldr	r0, [r4, #52]
 307 0020 43F00403 		orr	r3, r3, #4
 308 0024 8288     		ldrh	r2, [r0, #4]
 309 0026 22F40072 		bic	r2, r2, #512
 310 002a 1204     		lsls	r2, r2, #16
 311 002c 120C     		lsrs	r2, r2, #16
 312 002e 8280     		strh	r2, [r0, #4]	@ movhi
 313 0030 0288     		ldrh	r2, [r0]
 314 0032 92B2     		uxth	r2, r2
 315 0034 42F40072 		orr	r2, r2, #512
 316 0038 0280     		strh	r2, [r0]	@ movhi
 317 003a A360     		str	r3, [r4, #8]
 318              	.L59:
 319 003c 0805     		lsls	r0, r1, #20
 320 003e 44BF     		itt	mi
 321 0040 43F00803 		orrmi	r3, r3, #8
 322 0044 A360     		strmi	r3, [r4, #8]
 323 0046 4A04     		lsls	r2, r1, #17
 324 0048 44BF     		itt	mi
 325 004a 43F02003 		orrmi	r3, r3, #32
 326 004e A360     		strmi	r3, [r4, #8]
 327 0050 C804     		lsls	r0, r1, #19
 328 0052 44BF     		itt	mi
 329 0054 43F01003 		orrmi	r3, r3, #16
 330 0058 A360     		strmi	r3, [r4, #8]
 331 005a 0A04     		lsls	r2, r1, #16
 332 005c 01D4     		bmi	.L89
 333 005e 1BB9     		cbnz	r3, .L64
 334 0060 10BD     		pop	{r4, pc}
 335              	.L89:
 336 0062 43F04003 		orr	r3, r3, #64
 337 0066 A360     		str	r3, [r4, #8]
 338              	.L64:
 339 0068 2023     		movs	r3, #32
 340              	@ 584 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 341 006a 83F31188 		msr     BASEPRI, r3
 342              	@ 0 "" 2
ARM GAS  /tmp/cc3TIWia.s 			page 7


 343              		.thumb
 344 006e FFF7FEFF 		bl	dbg_check_lock_from_isr
 345 0072 E369     		ldr	r3, [r4, #28]
 346 0074 3BB1     		cbz	r3, .L66
 347 0076 0021     		movs	r1, #0
 348 0078 6FF00102 		mvn	r2, #1
 349 007c E161     		str	r1, [r4, #28]
 350 007e 1846     		mov	r0, r3
 351 0080 9A62     		str	r2, [r3, #40]
 352 0082 FFF7FEFF 		bl	chSchReadyI
 353              	.L66:
 354 0086 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 355 008a 0023     		movs	r3, #0
 356              	@ 584 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 357 008c 83F31188 		msr     BASEPRI, r3
 358              	@ 0 "" 2
 359              		.thumb
 360 0090 10BD     		pop	{r4, pc}
 361              		.size	i2c_lld_serve_error_interrupt, .-i2c_lld_serve_error_interrupt
 362 0092 00BFAFF3 		.section	.text.i2c_lld_safety_timeout,"ax",%progbits
 362      0080AFF3 
 362      0080AFF3 
 362      0080
 363              		.align	2
 364              		.p2align 4,,15
 365              		.thumb
 366              		.thumb_func
 367              		.type	i2c_lld_safety_timeout, %function
 368              	i2c_lld_safety_timeout:
 369              		@ args = 0, pretend = 0, frame = 0
 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371 0000 38B5     		push	{r3, r4, r5, lr}
 372 0002 0446     		mov	r4, r0
 373 0004 2023     		movs	r3, #32
 374              	@ 184 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 375 0006 83F31188 		msr     BASEPRI, r3
 376              	@ 0 "" 2
 377              		.thumb
 378 000a FFF7FEFF 		bl	dbg_check_lock_from_isr
 379 000e E169     		ldr	r1, [r4, #28]
 380 0010 71B1     		cbz	r1, .L91
 381 0012 626B     		ldr	r2, [r4, #52]
 382 0014 0023     		movs	r3, #0
 383 0016 4FF40040 		mov	r0, #32768
 384 001a 4FF0FF35 		mov	r5, #-1
 385 001e 1080     		strh	r0, [r2]	@ movhi
 386 0020 1380     		strh	r3, [r2]	@ movhi
 387 0022 0846     		mov	r0, r1
 388 0024 9380     		strh	r3, [r2, #4]	@ movhi
 389 0026 9382     		strh	r3, [r2, #20]	@ movhi
 390 0028 E361     		str	r3, [r4, #28]
 391 002a 8D62     		str	r5, [r1, #40]
 392 002c FFF7FEFF 		bl	chSchReadyI
 393              	.L91:
 394 0030 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 395 0034 0023     		movs	r3, #0
 396              	@ 192 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
ARM GAS  /tmp/cc3TIWia.s 			page 8


 397 0036 83F31188 		msr     BASEPRI, r3
 398              	@ 0 "" 2
 399              		.thumb
 400 003a 38BD     		pop	{r3, r4, r5, pc}
 401              		.size	i2c_lld_safety_timeout, .-i2c_lld_safety_timeout
 402 003c AFF30080 		.section	.text.VectorBC,"ax",%progbits
 403              		.align	2
 404              		.p2align 4,,15
 405              		.global	VectorBC
 406              		.thumb
 407              		.thumb_func
 408              		.type	VectorBC, %function
 409              	VectorBC:
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412 0000 08B5     		push	{r3, lr}
 413 0002 FFF7FEFF 		bl	dbg_check_enter_isr
 414 0006 0448     		ldr	r0, .L96
 415 0008 FFF7FEFF 		bl	i2c_lld_serve_event_interrupt
 416 000c FFF7FEFF 		bl	dbg_check_leave_isr
 417 0010 BDE80840 		pop	{r3, lr}
 418 0014 FFF7FEBF 		b	_port_irq_epilogue
 419              	.L97:
 420              		.align	2
 421              	.L96:
 422 0018 00000000 		.word	.LANCHOR0
 423              		.size	VectorBC, .-VectorBC
 424 001c AFF30080 		.section	.text.VectorC0,"ax",%progbits
 425              		.align	2
 426              		.p2align 4,,15
 427              		.global	VectorC0
 428              		.thumb
 429              		.thumb_func
 430              		.type	VectorC0, %function
 431              	VectorC0:
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434 0000 38B5     		push	{r3, r4, r5, lr}
 435 0002 0C4C     		ldr	r4, .L99
 436 0004 636B     		ldr	r3, [r4, #52]
 437 0006 9D8A     		ldrh	r5, [r3, #20]
 438 0008 FFF7FEFF 		bl	dbg_check_enter_isr
 439 000c ADB2     		uxth	r5, r5
 440 000e 05F45F43 		and	r3, r5, #57088
 441 0012 626B     		ldr	r2, [r4, #52]
 442 0014 83F47F43 		eor	r3, r3, #65280
 443 0018 83F0FF03 		eor	r3, r3, #255
 444 001c 2946     		mov	r1, r5
 445 001e 9382     		strh	r3, [r2, #20]	@ movhi
 446 0020 2046     		mov	r0, r4
 447 0022 FFF7FEFF 		bl	i2c_lld_serve_error_interrupt
 448 0026 FFF7FEFF 		bl	dbg_check_leave_isr
 449 002a BDE83840 		pop	{r3, r4, r5, lr}
 450 002e FFF7FEBF 		b	_port_irq_epilogue
 451              	.L100:
 452 0032 00BF     		.align	2
 453              	.L99:
ARM GAS  /tmp/cc3TIWia.s 			page 9


 454 0034 00000000 		.word	.LANCHOR0
 455              		.size	VectorC0, .-VectorC0
 456 0038 AFF30080 		.section	.text.VectorC4,"ax",%progbits
 456      AFF30080 
 457              		.align	2
 458              		.p2align 4,,15
 459              		.global	VectorC4
 460              		.thumb
 461              		.thumb_func
 462              		.type	VectorC4, %function
 463              	VectorC4:
 464              		@ args = 0, pretend = 0, frame = 0
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466 0000 08B5     		push	{r3, lr}
 467 0002 FFF7FEFF 		bl	dbg_check_enter_isr
 468 0006 0448     		ldr	r0, .L102
 469 0008 FFF7FEFF 		bl	i2c_lld_serve_event_interrupt
 470 000c FFF7FEFF 		bl	dbg_check_leave_isr
 471 0010 BDE80840 		pop	{r3, lr}
 472 0014 FFF7FEBF 		b	_port_irq_epilogue
 473              	.L103:
 474              		.align	2
 475              	.L102:
 476 0018 00000000 		.word	.LANCHOR1
 477              		.size	VectorC4, .-VectorC4
 478 001c AFF30080 		.section	.text.VectorC8,"ax",%progbits
 479              		.align	2
 480              		.p2align 4,,15
 481              		.global	VectorC8
 482              		.thumb
 483              		.thumb_func
 484              		.type	VectorC8, %function
 485              	VectorC8:
 486              		@ args = 0, pretend = 0, frame = 0
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 488 0000 38B5     		push	{r3, r4, r5, lr}
 489 0002 0C4C     		ldr	r4, .L105
 490 0004 636B     		ldr	r3, [r4, #52]
 491 0006 9D8A     		ldrh	r5, [r3, #20]
 492 0008 FFF7FEFF 		bl	dbg_check_enter_isr
 493 000c ADB2     		uxth	r5, r5
 494 000e 05F45F43 		and	r3, r5, #57088
 495 0012 626B     		ldr	r2, [r4, #52]
 496 0014 83F47F43 		eor	r3, r3, #65280
 497 0018 83F0FF03 		eor	r3, r3, #255
 498 001c 2946     		mov	r1, r5
 499 001e 9382     		strh	r3, [r2, #20]	@ movhi
 500 0020 2046     		mov	r0, r4
 501 0022 FFF7FEFF 		bl	i2c_lld_serve_error_interrupt
 502 0026 FFF7FEFF 		bl	dbg_check_leave_isr
 503 002a BDE83840 		pop	{r3, r4, r5, lr}
 504 002e FFF7FEBF 		b	_port_irq_epilogue
 505              	.L106:
 506 0032 00BF     		.align	2
 507              	.L105:
 508 0034 00000000 		.word	.LANCHOR1
 509              		.size	VectorC8, .-VectorC8
ARM GAS  /tmp/cc3TIWia.s 			page 10


 510 0038 AFF30080 		.section	.text.i2c_lld_init,"ax",%progbits
 510      AFF30080 
 511              		.align	2
 512              		.p2align 4,,15
 513              		.global	i2c_lld_init
 514              		.thumb
 515              		.thumb_func
 516              		.type	i2c_lld_init, %function
 517              	i2c_lld_init:
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520 0000 70B5     		push	{r4, r5, r6, lr}
 521 0002 084D     		ldr	r5, .L108
 522 0004 084C     		ldr	r4, .L108+4
 523 0006 2846     		mov	r0, r5
 524 0008 FFF7FEFF 		bl	i2cObjectInit
 525 000c 074B     		ldr	r3, .L108+8
 526 000e 0026     		movs	r6, #0
 527 0010 2046     		mov	r0, r4
 528 0012 6B63     		str	r3, [r5, #52]
 529 0014 EE61     		str	r6, [r5, #28]
 530 0016 FFF7FEFF 		bl	i2cObjectInit
 531 001a 054B     		ldr	r3, .L108+12
 532 001c E661     		str	r6, [r4, #28]
 533 001e 6363     		str	r3, [r4, #52]
 534 0020 70BD     		pop	{r4, r5, r6, pc}
 535              	.L109:
 536 0022 00BF     		.align	2
 537              	.L108:
 538 0024 00000000 		.word	.LANCHOR0
 539 0028 00000000 		.word	.LANCHOR1
 540 002c 00540040 		.word	1073763328
 541 0030 00580040 		.word	1073764352
 542              		.size	i2c_lld_init, .-i2c_lld_init
 543 0034 AFF30080 		.section	.text.i2c_lld_start,"ax",%progbits
 543      AFF30080 
 543      AFF30080 
 544              		.align	2
 545              		.p2align 4,,15
 546              		.global	i2c_lld_start
 547              		.thumb
 548              		.thumb_func
 549              		.type	i2c_lld_start, %function
 550              	i2c_lld_start:
 551              		@ args = 0, pretend = 0, frame = 0
 552              		@ frame_needed = 0, uses_anonymous_args = 0
 553 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 554 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 555 0006 012B     		cmp	r3, #1
 556 0008 0646     		mov	r6, r0
 557 000a 446B     		ldr	r4, [r0, #52]
 558 000c 6CD0     		beq	.L147
 559              	.L131:
 560 000e 2546     		mov	r5, r4
 561              	.L111:
 562 0010 7368     		ldr	r3, [r6, #4]
 563 0012 774A     		ldr	r2, .L153
ARM GAS  /tmp/cc3TIWia.s 			page 11


 564 0014 5F68     		ldr	r7, [r3, #4]
 565 0016 4FF40048 		mov	r8, #32768
 566 001a 791E     		subs	r1, r7, #1
 567 001c 4FF0000C 		mov	ip, #0
 568 0020 4FF48070 		mov	r0, #256
 569 0024 9142     		cmp	r1, r2
 570 0026 A4F80080 		strh	r8, [r4]	@ movhi
 571 002a 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 572 002e A4F800C0 		strh	ip, [r4]	@ movhi
 573 0032 A080     		strh	r0, [r4, #4]	@ movhi
 574 0034 02D9     		bls	.L113
 575 0036 6F48     		ldr	r0, .L153+4
 576 0038 FFF7FEFF 		bl	chDbgPanic
 577              	.L113:
 578 003c AB88     		ldrh	r3, [r5, #4]
 579 003e 6E4A     		ldr	r2, .L153+8
 580 0040 23F03F03 		bic	r3, r3, #63
 581 0044 1B04     		lsls	r3, r3, #16
 582 0046 1B0C     		lsrs	r3, r3, #16
 583 0048 AB80     		strh	r3, [r5, #4]	@ movhi
 584 004a AB88     		ldrh	r3, [r5, #4]
 585 004c 9742     		cmp	r7, r2
 586 004e 9BB2     		uxth	r3, r3
 587 0050 43F02403 		orr	r3, r3, #36
 588 0054 AB80     		strh	r3, [r5, #4]	@ movhi
 589 0056 36DC     		bgt	.L114
 590 0058 B8F1010F 		cmp	r8, #1
 591 005c 02D0     		beq	.L115
 592 005e 6748     		ldr	r0, .L153+12
 593 0060 FFF7FEFF 		bl	chDbgPanic
 594              	.L115:
 595 0064 664A     		ldr	r2, .L153+16
 596 0066 7F00     		lsls	r7, r7, #1
 597 0068 92FBF7F2 		sdiv	r2, r2, r7
 598 006c 07FB02F2 		mul	r2, r7, r2
 599 0070 634B     		ldr	r3, .L153+16
 600 0072 9B1A     		subs	r3, r3, r2
 601 0074 002B     		cmp	r3, #0
 602 0076 63D1     		bne	.L148
 603 0078 614B     		ldr	r3, .L153+16
 604 007a 93FBF7F7 		sdiv	r7, r3, r7
 605 007e BBB2     		uxth	r3, r7
 606 0080 032B     		cmp	r3, #3
 607 0082 55D9     		bls	.L149
 608              	.L117:
 609 0084 2522     		movs	r2, #37
 610 0086 B3F5805F 		cmp	r3, #4096
 611 008a C7F30B07 		ubfx	r7, r7, #0, #12
 612 008e 2A84     		strh	r2, [r5, #32]	@ movhi
 613 0090 02D3     		bcc	.L118
 614 0092 5C48     		ldr	r0, .L153+20
 615 0094 FFF7FEFF 		bl	chDbgPanic
 616              	.L118:
 617 0098 7368     		ldr	r3, [r6, #4]
 618 009a 716B     		ldr	r1, [r6, #52]
 619 009c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 620 009e AF83     		strh	r7, [r5, #28]	@ movhi
ARM GAS  /tmp/cc3TIWia.s 			page 12


 621 00a0 0B88     		ldrh	r3, [r1]
 622 00a2 022A     		cmp	r2, #2
 623 00a4 9BB2     		uxth	r3, r3
 624 00a6 3DD0     		beq	.L127
 625 00a8 032A     		cmp	r2, #3
 626 00aa 38D0     		beq	.L128
 627 00ac 012A     		cmp	r2, #1
 628 00ae 02D1     		bne	.L126
 629 00b0 23F00A03 		bic	r3, r3, #10
 630 00b4 9BB2     		uxth	r3, r3
 631              	.L126:
 632 00b6 0B80     		strh	r3, [r1]	@ movhi
 633 00b8 2388     		ldrh	r3, [r4]
 634 00ba 9BB2     		uxth	r3, r3
 635 00bc 43F00103 		orr	r3, r3, #1
 636 00c0 2380     		strh	r3, [r4]	@ movhi
 637 00c2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 638              	.L114:
 639 00c6 504B     		ldr	r3, .L153+24
 640 00c8 9F42     		cmp	r7, r3
 641 00ca 0BDC     		bgt	.L132
 642 00cc A8F10203 		sub	r3, r8, #2
 643 00d0 012B     		cmp	r3, #1
 644 00d2 3FD9     		bls	.L121
 645 00d4 4D48     		ldr	r0, .L153+28
 646 00d6 FFF7FEFF 		bl	chDbgPanic
 647 00da 48F6FF77 		movw	r7, #36863
 648              	.L122:
 649 00de 0B23     		movs	r3, #11
 650 00e0 2B84     		strh	r3, [r5, #32]	@ movhi
 651 00e2 D9E7     		b	.L118
 652              	.L132:
 653 00e4 0027     		movs	r7, #0
 654 00e6 D7E7     		b	.L118
 655              	.L147:
 656 00e8 494B     		ldr	r3, .L153+32
 657 00ea 9842     		cmp	r0, r3
 658 00ec 64D0     		beq	.L150
 659 00ee 494B     		ldr	r3, .L153+36
 660 00f0 9842     		cmp	r0, r3
 661 00f2 8CD1     		bne	.L131
 662 00f4 484B     		ldr	r3, .L153+40
 663 00f6 0022     		movs	r2, #0
 664 00f8 1969     		ldr	r1, [r3, #16]
 665 00fa 2120     		movs	r0, #33
 666 00fc 41F48001 		orr	r1, r1, #4194304
 667 0100 1961     		str	r1, [r3, #16]
 668 0102 1A61     		str	r2, [r3, #16]
 669 0104 DA69     		ldr	r2, [r3, #28]
 670 0106 5021     		movs	r1, #80
 671 0108 42F48002 		orr	r2, r2, #4194304
 672 010c DA61     		str	r2, [r3, #28]
 673 010e FFF7FEFF 		bl	nvicEnableVector
 674 0112 2220     		movs	r0, #34
 675 0114 5021     		movs	r1, #80
 676 0116 FFF7FEFF 		bl	nvicEnableVector
 677 011a 756B     		ldr	r5, [r6, #52]
ARM GAS  /tmp/cc3TIWia.s 			page 13


 678 011c 78E7     		b	.L111
 679              	.L128:
 680 011e 43F00A03 		orr	r3, r3, #10
 681 0122 C8E7     		b	.L126
 682              	.L127:
 683 0124 23F00803 		bic	r3, r3, #8
 684 0128 9BB2     		uxth	r3, r3
 685 012a 43F00203 		orr	r3, r3, #2
 686 012e C2E7     		b	.L126
 687              	.L149:
 688 0130 3A48     		ldr	r0, .L153+44
 689 0132 FFF7FEFF 		bl	chDbgPanic
 690 0136 2523     		movs	r3, #37
 691 0138 C7F30B07 		ubfx	r7, r7, #0, #12
 692 013c 2B84     		strh	r3, [r5, #32]	@ movhi
 693 013e ABE7     		b	.L118
 694              	.L148:
 695 0140 3748     		ldr	r0, .L153+48
 696 0142 FFF7FEFF 		bl	chDbgPanic
 697 0146 2E4B     		ldr	r3, .L153+16
 698 0148 93FBF7F7 		sdiv	r7, r3, r7
 699 014c BBB2     		uxth	r3, r7
 700 014e 032B     		cmp	r3, #3
 701 0150 98D8     		bhi	.L117
 702 0152 EDE7     		b	.L149
 703              	.L121:
 704 0154 B8F1020F 		cmp	r8, #2
 705 0158 16D1     		bne	.L123
 706 015a 294A     		ldr	r2, .L153+16
 707 015c 07EB4707 		add	r7, r7, r7, lsl #1
 708 0160 92FBF7F2 		sdiv	r2, r2, r7
 709 0164 07FB02F2 		mul	r2, r7, r2
 710 0168 254B     		ldr	r3, .L153+16
 711 016a 9B1A     		subs	r3, r3, r2
 712 016c 43B9     		cbnz	r3, .L151
 713              	.L124:
 714 016e 244B     		ldr	r3, .L153+16
 715 0170 93FBF7F7 		sdiv	r7, r3, r7
 716 0174 6FEA4747 		mvn	r7, r7, lsl #17
 717 0178 6FEA5747 		mvn	r7, r7, lsr #17
 718 017c BFB2     		uxth	r7, r7
 719 017e AEE7     		b	.L122
 720              	.L151:
 721 0180 2848     		ldr	r0, .L153+52
 722 0182 FFF7FEFF 		bl	chDbgPanic
 723 0186 F2E7     		b	.L124
 724              	.L123:
 725 0188 B8F1030F 		cmp	r8, #3
 726 018c 2DD1     		bne	.L133
 727 018e 07EB8707 		add	r7, r7, r7, lsl #2
 728 0192 1B4A     		ldr	r2, .L153+16
 729 0194 07EB8707 		add	r7, r7, r7, lsl #2
 730 0198 92FBF7F2 		sdiv	r2, r2, r7
 731 019c 07FB02F2 		mul	r2, r7, r2
 732 01a0 174B     		ldr	r3, .L153+16
 733 01a2 9B1A     		subs	r3, r3, r2
 734 01a4 EBB9     		cbnz	r3, .L152
ARM GAS  /tmp/cc3TIWia.s 			page 14


 735              	.L125:
 736 01a6 164B     		ldr	r3, .L153+16
 737 01a8 93FBF7F7 		sdiv	r7, r3, r7
 738 01ac 6FEA8747 		mvn	r7, r7, lsl #18
 739 01b0 6FEA9747 		mvn	r7, r7, lsr #18
 740 01b4 BFB2     		uxth	r7, r7
 741 01b6 92E7     		b	.L122
 742              	.L150:
 743 01b8 174B     		ldr	r3, .L153+40
 744 01ba 0022     		movs	r2, #0
 745 01bc 1969     		ldr	r1, [r3, #16]
 746 01be 1F20     		movs	r0, #31
 747 01c0 41F40011 		orr	r1, r1, #2097152
 748 01c4 1961     		str	r1, [r3, #16]
 749 01c6 1A61     		str	r2, [r3, #16]
 750 01c8 DA69     		ldr	r2, [r3, #28]
 751 01ca 5021     		movs	r1, #80
 752 01cc 42F40012 		orr	r2, r2, #2097152
 753 01d0 DA61     		str	r2, [r3, #28]
 754 01d2 FFF7FEFF 		bl	nvicEnableVector
 755 01d6 2020     		movs	r0, #32
 756 01d8 5021     		movs	r1, #80
 757 01da FFF7FEFF 		bl	nvicEnableVector
 758 01de 756B     		ldr	r5, [r6, #52]
 759 01e0 16E7     		b	.L111
 760              	.L152:
 761 01e2 1148     		ldr	r0, .L153+56
 762 01e4 FFF7FEFF 		bl	chDbgPanic
 763 01e8 DDE7     		b	.L125
 764              	.L133:
 765 01ea 48F6FF77 		movw	r7, #36863
 766 01ee 76E7     		b	.L122
 767              	.L154:
 768              		.align	2
 769              	.L153:
 770 01f0 FF083D00 		.word	3999999
 771 01f4 24000000 		.word	.LC1
 772 01f8 A0860100 		.word	100000
 773 01fc 3C000000 		.word	.LC2
 774 0200 00512502 		.word	36000000
 775 0204 CC000000 		.word	.LC8
 776 0208 801A0600 		.word	400000
 777 020c 84000000 		.word	.LC5
 778 0210 00000000 		.word	.LANCHOR0
 779 0214 00000000 		.word	.LANCHOR1
 780 0218 00100240 		.word	1073876992
 781 021c 6C000000 		.word	.LC4
 782 0220 54000000 		.word	.LC3
 783 0224 9C000000 		.word	.LC6
 784 0228 B4000000 		.word	.LC7
 785              		.size	i2c_lld_start, .-i2c_lld_start
 786 022c AFF30080 		.section	.text.i2c_lld_stop,"ax",%progbits
 787              		.align	2
 788              		.p2align 4,,15
 789              		.global	i2c_lld_stop
 790              		.thumb
 791              		.thumb_func
ARM GAS  /tmp/cc3TIWia.s 			page 15


 792              		.type	i2c_lld_stop, %function
 793              	i2c_lld_stop:
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 797 0002 10B5     		push	{r4, lr}
 798 0004 012B     		cmp	r3, #1
 799 0006 0DD0     		beq	.L155
 800 0008 1349     		ldr	r1, .L162
 801 000a 436B     		ldr	r3, [r0, #52]
 802 000c 0022     		movs	r2, #0
 803 000e 4FF40044 		mov	r4, #32768
 804 0012 8842     		cmp	r0, r1
 805 0014 1C80     		strh	r4, [r3]	@ movhi
 806 0016 1A80     		strh	r2, [r3]	@ movhi
 807 0018 9A80     		strh	r2, [r3, #4]	@ movhi
 808 001a 9A82     		strh	r2, [r3, #20]	@ movhi
 809 001c 0FD0     		beq	.L160
 810 001e 0F4B     		ldr	r3, .L162+4
 811 0020 9842     		cmp	r0, r3
 812 0022 00D0     		beq	.L161
 813              	.L155:
 814 0024 10BD     		pop	{r4, pc}
 815              	.L161:
 816 0026 2120     		movs	r0, #33
 817 0028 FFF7FEFF 		bl	nvicDisableVector
 818 002c 2220     		movs	r0, #34
 819 002e FFF7FEFF 		bl	nvicDisableVector
 820 0032 0B4B     		ldr	r3, .L162+8
 821 0034 DA69     		ldr	r2, [r3, #28]
 822 0036 22F48002 		bic	r2, r2, #4194304
 823 003a DA61     		str	r2, [r3, #28]
 824 003c F2E7     		b	.L155
 825              	.L160:
 826 003e 1F20     		movs	r0, #31
 827 0040 FFF7FEFF 		bl	nvicDisableVector
 828 0044 2020     		movs	r0, #32
 829 0046 FFF7FEFF 		bl	nvicDisableVector
 830 004a 054B     		ldr	r3, .L162+8
 831 004c DA69     		ldr	r2, [r3, #28]
 832 004e 22F40012 		bic	r2, r2, #2097152
 833 0052 DA61     		str	r2, [r3, #28]
 834 0054 10BD     		pop	{r4, pc}
 835              	.L163:
 836 0056 00BF     		.align	2
 837              	.L162:
 838 0058 00000000 		.word	.LANCHOR0
 839 005c 00000000 		.word	.LANCHOR1
 840 0060 00100240 		.word	1073876992
 841              		.size	i2c_lld_stop, .-i2c_lld_stop
 842 0064 AFF30080 		.section	.text.i2c_lld_master_receive_timeout,"ax",%progbits
 842      AFF30080 
 842      AFF30080 
 843              		.align	2
 844              		.p2align 4,,15
 845              		.global	i2c_lld_master_receive_timeout
 846              		.thumb
ARM GAS  /tmp/cc3TIWia.s 			page 16


 847              		.thumb_func
 848              		.type	i2c_lld_master_receive_timeout, %function
 849              	i2c_lld_master_receive_timeout:
 850              		@ args = 4, pretend = 0, frame = 24
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 853 0004 012B     		cmp	r3, #1
 854 0006 87B0     		sub	sp, sp, #28
 855 0008 0646     		mov	r6, r0
 856 000a 1F46     		mov	r7, r3
 857 000c 8946     		mov	r9, r1
 858 000e 9046     		mov	r8, r2
 859 0010 446B     		ldr	r4, [r0, #52]
 860 0012 0E9D     		ldr	r5, [sp, #56]
 861 0014 54D9     		bls	.L187
 862              	.L165:
 863 0016 6B1C     		adds	r3, r5, #1
 864 0018 05D0     		beq	.L166
 865 001a 01A8     		add	r0, sp, #4
 866 001c 2946     		mov	r1, r5
 867 001e 334A     		ldr	r2, .L189
 868 0020 3346     		mov	r3, r6
 869 0022 FFF7FEFF 		bl	chVTSetI
 870              	.L166:
 871 0026 FFF7FEFF 		bl	dbg_check_unlock
 872 002a 0023     		movs	r3, #0
 873              	@ 954 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 874 002c 83F31188 		msr     BASEPRI, r3
 875              	@ 0 "" 2
 876              		.thumb
 877 0030 4FEA4909 		lsl	r9, r9, #1
 878 0034 49F00109 		orr	r9, r9, #1
 879 0038 A6F82090 		strh	r9, [r6, #32]	@ movhi
 880 003c C6F82480 		str	r8, [r6, #36]
 881 0040 B762     		str	r7, [r6, #40]
 882 0042 B360     		str	r3, [r6, #8]
 883 0044 04E0     		b	.L167
 884              	.L168:
 885 0046 FFF7FEFF 		bl	dbg_check_unlock
 886 004a 0023     		movs	r3, #0
 887              	@ 976 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 888 004c 83F31188 		msr     BASEPRI, r3
 889              	@ 0 "" 2
 890              		.thumb
 891              	.L167:
 892 0050 228B     		ldrh	r2, [r4, #24]
 893 0052 2023     		movs	r3, #32
 894 0054 9107     		lsls	r1, r2, #30
 895 0056 02D4     		bmi	.L170
 896 0058 2288     		ldrh	r2, [r4]
 897 005a 9205     		lsls	r2, r2, #22
 898 005c 0DD5     		bpl	.L188
 899              	.L170:
 900              	@ 973 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 901 005e 83F31188 		msr     BASEPRI, r3
 902              	@ 0 "" 2
 903              		.thumb
ARM GAS  /tmp/cc3TIWia.s 			page 17


 904 0062 FFF7FEFF 		bl	dbg_check_lock
 905 0066 681C     		adds	r0, r5, #1
 906 0068 EDD0     		beq	.L168
 907 006a 049A     		ldr	r2, [sp, #16]
 908 006c 002A     		cmp	r2, #0
 909 006e EAD1     		bne	.L168
 910              	.L172:
 911 0070 4FF0FF30 		mov	r0, #-1
 912 0074 07B0     		add	sp, sp, #28
 913              		@ sp needed
 914 0076 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 915              	.L188:
 916              	@ 980 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 917 007a 83F31188 		msr     BASEPRI, r3
 918              	@ 0 "" 2
 919              		.thumb
 920 007e FFF7FEFF 		bl	dbg_check_lock
 921 0082 0135     		adds	r5, r5, #1
 922 0084 20D0     		beq	.L171
 923 0086 049B     		ldr	r3, [sp, #16]
 924 0088 002B     		cmp	r3, #0
 925 008a F1D0     		beq	.L172
 926 008c A388     		ldrh	r3, [r4, #4]
 927 008e 184D     		ldr	r5, .L189+4
 928 0090 9BB2     		uxth	r3, r3
 929 0092 43F40073 		orr	r3, r3, #512
 930 0096 A380     		strh	r3, [r4, #4]	@ movhi
 931 0098 2288     		ldrh	r2, [r4]
 932 009a AB69     		ldr	r3, [r5, #24]
 933 009c 92B2     		uxth	r2, r2
 934 009e 42F4A062 		orr	r2, r2, #1280
 935 00a2 2280     		strh	r2, [r4]	@ movhi
 936 00a4 0220     		movs	r0, #2
 937 00a6 F361     		str	r3, [r6, #28]
 938 00a8 FFF7FEFF 		bl	chSchGoSleepS
 939 00ac 049B     		ldr	r3, [sp, #16]
 940 00ae 13B1     		cbz	r3, .L175
 941 00b0 01A8     		add	r0, sp, #4
 942 00b2 FFF7FEFF 		bl	chVTResetI
 943              	.L175:
 944 00b6 AB69     		ldr	r3, [r5, #24]
 945 00b8 986A     		ldr	r0, [r3, #40]
 946 00ba 07B0     		add	sp, sp, #28
 947              		@ sp needed
 948 00bc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 949              	.L187:
 950 00c0 0C48     		ldr	r0, .L189+8
 951 00c2 FFF7FEFF 		bl	chDbgPanic
 952 00c6 A6E7     		b	.L165
 953              	.L171:
 954 00c8 A388     		ldrh	r3, [r4, #4]
 955 00ca 094D     		ldr	r5, .L189+4
 956 00cc 9BB2     		uxth	r3, r3
 957 00ce 43F40073 		orr	r3, r3, #512
 958 00d2 A380     		strh	r3, [r4, #4]	@ movhi
 959 00d4 2288     		ldrh	r2, [r4]
 960 00d6 AB69     		ldr	r3, [r5, #24]
ARM GAS  /tmp/cc3TIWia.s 			page 18


 961 00d8 92B2     		uxth	r2, r2
 962 00da 42F4A062 		orr	r2, r2, #1280
 963 00de 2280     		strh	r2, [r4]	@ movhi
 964 00e0 0220     		movs	r0, #2
 965 00e2 F361     		str	r3, [r6, #28]
 966 00e4 FFF7FEFF 		bl	chSchGoSleepS
 967 00e8 E5E7     		b	.L175
 968              	.L190:
 969 00ea 00BF     		.align	2
 970              	.L189:
 971 00ec 00000000 		.word	i2c_lld_safety_timeout
 972 00f0 00000000 		.word	rlist
 973 00f4 E4000000 		.word	.LC9
 974              		.size	i2c_lld_master_receive_timeout, .-i2c_lld_master_receive_timeout
 975 00f8 AFF30080 		.section	.text.i2c_lld_master_transmit_timeout,"ax",%progbits
 975      AFF30080 
 976              		.align	2
 977              		.p2align 4,,15
 978              		.global	i2c_lld_master_transmit_timeout
 979              		.thumb
 980              		.thumb_func
 981              		.type	i2c_lld_master_transmit_timeout, %function
 982              	i2c_lld_master_transmit_timeout:
 983              		@ args = 12, pretend = 0, frame = 24
 984              		@ frame_needed = 0, uses_anonymous_args = 0
 985 0000 2DE9F04E 		push	{r4, r5, r6, r7, r9, r10, fp, lr}
 986 0004 86B0     		sub	sp, sp, #24
 987 0006 0F9F     		ldr	r7, [sp, #60]
 988 0008 0646     		mov	r6, r0
 989 000a 8B46     		mov	fp, r1
 990 000c 9246     		mov	r10, r2
 991 000e 9946     		mov	r9, r3
 992 0010 446B     		ldr	r4, [r0, #52]
 993 0012 109D     		ldr	r5, [sp, #64]
 994 0014 27B1     		cbz	r7, .L192
 995 0016 012F     		cmp	r7, #1
 996 0018 59D9     		bls	.L193
 997 001a 0E9A     		ldr	r2, [sp, #56]
 998 001c 002A     		cmp	r2, #0
 999 001e 56D0     		beq	.L193
 1000              	.L192:
 1001 0020 6B1C     		adds	r3, r5, #1
 1002 0022 05D0     		beq	.L194
 1003 0024 01A8     		add	r0, sp, #4
 1004 0026 2946     		mov	r1, r5
 1005 0028 334A     		ldr	r2, .L219
 1006 002a 3346     		mov	r3, r6
 1007 002c FFF7FEFF 		bl	chVTSetI
 1008              	.L194:
 1009 0030 FFF7FEFF 		bl	dbg_check_unlock
 1010 0034 0023     		movs	r3, #0
 1011              	@ 1042 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1012 0036 83F31188 		msr     BASEPRI, r3
 1013              	@ 0 "" 2
 1014              		.thumb
 1015 003a 0E9A     		ldr	r2, [sp, #56]
 1016 003c 4FEA4B0B 		lsl	fp, fp, #1
ARM GAS  /tmp/cc3TIWia.s 			page 19


 1017 0040 A6F820B0 		strh	fp, [r6, #32]	@ movhi
 1018 0044 C6F82CA0 		str	r10, [r6, #44]
 1019 0048 C6F83090 		str	r9, [r6, #48]
 1020 004c 7262     		str	r2, [r6, #36]
 1021 004e B762     		str	r7, [r6, #40]
 1022 0050 B360     		str	r3, [r6, #8]
 1023 0052 04E0     		b	.L195
 1024              	.L196:
 1025 0054 FFF7FEFF 		bl	dbg_check_unlock
 1026 0058 0023     		movs	r3, #0
 1027              	@ 1072 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1028 005a 83F31188 		msr     BASEPRI, r3
 1029              	@ 0 "" 2
 1030              		.thumb
 1031              	.L195:
 1032 005e 228B     		ldrh	r2, [r4, #24]
 1033 0060 2023     		movs	r3, #32
 1034 0062 9107     		lsls	r1, r2, #30
 1035 0064 02D4     		bmi	.L198
 1036 0066 2288     		ldrh	r2, [r4]
 1037 0068 9205     		lsls	r2, r2, #22
 1038 006a 0DD5     		bpl	.L218
 1039              	.L198:
 1040              	@ 1069 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1041 006c 83F31188 		msr     BASEPRI, r3
 1042              	@ 0 "" 2
 1043              		.thumb
 1044 0070 FFF7FEFF 		bl	dbg_check_lock
 1045 0074 681C     		adds	r0, r5, #1
 1046 0076 EDD0     		beq	.L196
 1047 0078 049A     		ldr	r2, [sp, #16]
 1048 007a 002A     		cmp	r2, #0
 1049 007c EAD1     		bne	.L196
 1050              	.L200:
 1051 007e 4FF0FF30 		mov	r0, #-1
 1052 0082 06B0     		add	sp, sp, #24
 1053              		@ sp needed
 1054 0084 BDE8F08E 		pop	{r4, r5, r6, r7, r9, r10, fp, pc}
 1055              	.L218:
 1056              	@ 1076 "../../../ChibiOS/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1057 0088 83F31188 		msr     BASEPRI, r3
 1058              	@ 0 "" 2
 1059              		.thumb
 1060 008c FFF7FEFF 		bl	dbg_check_lock
 1061 0090 0135     		adds	r5, r5, #1
 1062 0092 20D0     		beq	.L199
 1063 0094 049B     		ldr	r3, [sp, #16]
 1064 0096 002B     		cmp	r3, #0
 1065 0098 F1D0     		beq	.L200
 1066 009a A388     		ldrh	r3, [r4, #4]
 1067 009c 174D     		ldr	r5, .L219+4
 1068 009e 9BB2     		uxth	r3, r3
 1069 00a0 43F40073 		orr	r3, r3, #512
 1070 00a4 A380     		strh	r3, [r4, #4]	@ movhi
 1071 00a6 2288     		ldrh	r2, [r4]
 1072 00a8 AB69     		ldr	r3, [r5, #24]
 1073 00aa 92B2     		uxth	r2, r2
ARM GAS  /tmp/cc3TIWia.s 			page 20


 1074 00ac 42F48072 		orr	r2, r2, #256
 1075 00b0 2280     		strh	r2, [r4]	@ movhi
 1076 00b2 0220     		movs	r0, #2
 1077 00b4 F361     		str	r3, [r6, #28]
 1078 00b6 FFF7FEFF 		bl	chSchGoSleepS
 1079 00ba 049B     		ldr	r3, [sp, #16]
 1080 00bc 13B1     		cbz	r3, .L203
 1081 00be 01A8     		add	r0, sp, #4
 1082 00c0 FFF7FEFF 		bl	chVTResetI
 1083              	.L203:
 1084 00c4 AB69     		ldr	r3, [r5, #24]
 1085 00c6 986A     		ldr	r0, [r3, #40]
 1086 00c8 06B0     		add	sp, sp, #24
 1087              		@ sp needed
 1088 00ca BDE8F08E 		pop	{r4, r5, r6, r7, r9, r10, fp, pc}
 1089              	.L193:
 1090 00ce 0C48     		ldr	r0, .L219+8
 1091 00d0 FFF7FEFF 		bl	chDbgPanic
 1092 00d4 A4E7     		b	.L192
 1093              	.L199:
 1094 00d6 A388     		ldrh	r3, [r4, #4]
 1095 00d8 084D     		ldr	r5, .L219+4
 1096 00da 9BB2     		uxth	r3, r3
 1097 00dc 43F40073 		orr	r3, r3, #512
 1098 00e0 A380     		strh	r3, [r4, #4]	@ movhi
 1099 00e2 2288     		ldrh	r2, [r4]
 1100 00e4 AB69     		ldr	r3, [r5, #24]
 1101 00e6 92B2     		uxth	r2, r2
 1102 00e8 42F48072 		orr	r2, r2, #256
 1103 00ec 2280     		strh	r2, [r4]	@ movhi
 1104 00ee 0220     		movs	r0, #2
 1105 00f0 F361     		str	r3, [r6, #28]
 1106 00f2 FFF7FEFF 		bl	chSchGoSleepS
 1107 00f6 E5E7     		b	.L203
 1108              	.L220:
 1109              		.align	2
 1110              	.L219:
 1111 00f8 00000000 		.word	i2c_lld_safety_timeout
 1112 00fc 00000000 		.word	rlist
 1113 0100 08010000 		.word	.LC10
 1114              		.size	i2c_lld_master_transmit_timeout, .-i2c_lld_master_transmit_timeout
 1115              		.global	I2CD2
 1116              		.global	I2CD1
 1117 0104 AFF30080 		.section	.rodata.str1.4,"aMS",%progbits,1
 1117      AFF30080 
 1117      AFF30080 
 1118              		.align	2
 1119              	.LC0:
 1120 0000 6932635F 		.ascii	"i2c_lld_serve_event_interrupt(), #1\000"
 1120      6C6C645F 
 1120      73657276 
 1120      655F6576 
 1120      656E745F 
 1121              	.LC1:
 1122 0024 22693263 		.ascii	"\"i2c_lld_set_clock\"()\000"
 1122      5F6C6C64 
 1122      5F736574 
ARM GAS  /tmp/cc3TIWia.s 			page 21


 1122      5F636C6F 
 1122      636B2228 
 1123 003a 0000     		.space	2
 1124              	.LC2:
 1125 003c 6932635F 		.ascii	"i2c_lld_set_clock(), #1\000"
 1125      6C6C645F 
 1125      7365745F 
 1125      636C6F63 
 1125      6B28292C 
 1126              	.LC3:
 1127 0054 6932635F 		.ascii	"i2c_lld_set_clock(), #2\000"
 1127      6C6C645F 
 1127      7365745F 
 1127      636C6F63 
 1127      6B28292C 
 1128              	.LC4:
 1129 006c 6932635F 		.ascii	"i2c_lld_set_clock(), #3\000"
 1129      6C6C645F 
 1129      7365745F 
 1129      636C6F63 
 1129      6B28292C 
 1130              	.LC5:
 1131 0084 6932635F 		.ascii	"i2c_lld_set_clock(), #4\000"
 1131      6C6C645F 
 1131      7365745F 
 1131      636C6F63 
 1131      6B28292C 
 1132              	.LC6:
 1133 009c 6932635F 		.ascii	"i2c_lld_set_clock(), #5\000"
 1133      6C6C645F 
 1133      7365745F 
 1133      636C6F63 
 1133      6B28292C 
 1134              	.LC7:
 1135 00b4 6932635F 		.ascii	"i2c_lld_set_clock(), #6\000"
 1135      6C6C645F 
 1135      7365745F 
 1135      636C6F63 
 1135      6B28292C 
 1136              	.LC8:
 1137 00cc 6932635F 		.ascii	"i2c_lld_set_clock(), #8\000"
 1137      6C6C645F 
 1137      7365745F 
 1137      636C6F63 
 1137      6B28292C 
 1138              	.LC9:
 1139 00e4 22693263 		.ascii	"\"i2c_lld_master_receive_timeout\"()\000"
 1139      5F6C6C64 
 1139      5F6D6173 
 1139      7465725F 
 1139      72656365 
 1140 0107 00       		.space	1
 1141              	.LC10:
 1142 0108 22693263 		.ascii	"\"i2c_lld_master_transmit_timeout\"()\000"
 1142      5F6C6C64 
 1142      5F6D6173 
 1142      7465725F 
ARM GAS  /tmp/cc3TIWia.s 			page 22


 1142      7472616E 
 1143              		.section	.bss.I2CD1,"aw",%nobits
 1144              		.align	2
 1145              		.set	.LANCHOR0,. + 0
 1146              		.type	I2CD1, %object
 1147              		.size	I2CD1, 56
 1148              	I2CD1:
 1149 0000 00000000 		.space	56
 1149      00000000 
 1149      00000000 
 1149      00000000 
 1149      00000000 
 1150              		.section	.bss.I2CD2,"aw",%nobits
 1151              		.align	2
 1152              		.set	.LANCHOR1,. + 0
 1153              		.type	I2CD2, %object
 1154              		.size	I2CD2, 56
 1155              	I2CD2:
 1156 0000 00000000 		.space	56
 1156      00000000 
 1156      00000000 
 1156      00000000 
 1156      00000000 
 1157              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 4.8.3 20140228 (release) [ARM/embedded-4_8-br
ARM GAS  /tmp/cc3TIWia.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 i2c_lld.c
     /tmp/cc3TIWia.s:16     .text.i2c_lld_serve_event_interrupt:00000000 $t
     /tmp/cc3TIWia.s:21     .text.i2c_lld_serve_event_interrupt:00000000 i2c_lld_serve_event_interrupt
     /tmp/cc3TIWia.s:277    .text.i2c_lld_serve_event_interrupt:00000204 $d
     /tmp/cc3TIWia.s:284    .text.i2c_lld_serve_error_interrupt:00000000 $t
     /tmp/cc3TIWia.s:289    .text.i2c_lld_serve_error_interrupt:00000000 i2c_lld_serve_error_interrupt
     /tmp/cc3TIWia.s:363    .text.i2c_lld_safety_timeout:00000000 $t
     /tmp/cc3TIWia.s:368    .text.i2c_lld_safety_timeout:00000000 i2c_lld_safety_timeout
     /tmp/cc3TIWia.s:403    .text.VectorBC:00000000 $t
     /tmp/cc3TIWia.s:409    .text.VectorBC:00000000 VectorBC
     /tmp/cc3TIWia.s:422    .text.VectorBC:00000018 $d
     /tmp/cc3TIWia.s:425    .text.VectorC0:00000000 $t
     /tmp/cc3TIWia.s:431    .text.VectorC0:00000000 VectorC0
     /tmp/cc3TIWia.s:454    .text.VectorC0:00000034 $d
     /tmp/cc3TIWia.s:457    .text.VectorC4:00000000 $t
     /tmp/cc3TIWia.s:463    .text.VectorC4:00000000 VectorC4
     /tmp/cc3TIWia.s:476    .text.VectorC4:00000018 $d
     /tmp/cc3TIWia.s:479    .text.VectorC8:00000000 $t
     /tmp/cc3TIWia.s:485    .text.VectorC8:00000000 VectorC8
     /tmp/cc3TIWia.s:508    .text.VectorC8:00000034 $d
     /tmp/cc3TIWia.s:511    .text.i2c_lld_init:00000000 $t
     /tmp/cc3TIWia.s:517    .text.i2c_lld_init:00000000 i2c_lld_init
     /tmp/cc3TIWia.s:538    .text.i2c_lld_init:00000024 $d
     /tmp/cc3TIWia.s:544    .text.i2c_lld_start:00000000 $t
     /tmp/cc3TIWia.s:550    .text.i2c_lld_start:00000000 i2c_lld_start
     /tmp/cc3TIWia.s:770    .text.i2c_lld_start:000001f0 $d
     /tmp/cc3TIWia.s:787    .text.i2c_lld_stop:00000000 $t
     /tmp/cc3TIWia.s:793    .text.i2c_lld_stop:00000000 i2c_lld_stop
     /tmp/cc3TIWia.s:838    .text.i2c_lld_stop:00000058 $d
     /tmp/cc3TIWia.s:843    .text.i2c_lld_master_receive_timeout:00000000 $t
     /tmp/cc3TIWia.s:849    .text.i2c_lld_master_receive_timeout:00000000 i2c_lld_master_receive_timeout
     /tmp/cc3TIWia.s:971    .text.i2c_lld_master_receive_timeout:000000ec $d
     /tmp/cc3TIWia.s:976    .text.i2c_lld_master_transmit_timeout:00000000 $t
     /tmp/cc3TIWia.s:982    .text.i2c_lld_master_transmit_timeout:00000000 i2c_lld_master_transmit_timeout
     /tmp/cc3TIWia.s:1111   .text.i2c_lld_master_transmit_timeout:000000f8 $d
     /tmp/cc3TIWia.s:1155   .bss.I2CD2:00000000 I2CD2
     /tmp/cc3TIWia.s:1148   .bss.I2CD1:00000000 I2CD1
     /tmp/cc3TIWia.s:1118   .rodata.str1.4:00000000 $d
     /tmp/cc3TIWia.s:1144   .bss.I2CD1:00000000 $d
     /tmp/cc3TIWia.s:1151   .bss.I2CD2:00000000 $d
     /tmp/cc3TIWia.s:1157   .text.i2c_lld_serve_event_interrupt:00000218 $t
     /tmp/cc3TIWia.s:424    .text.VectorBC:0000001c $t
     /tmp/cc3TIWia.s:456    .text.VectorC0:00000038 $t
     /tmp/cc3TIWia.s:478    .text.VectorC4:0000001c $t
     /tmp/cc3TIWia.s:510    .text.VectorC8:00000038 $t
     /tmp/cc3TIWia.s:543    .text.i2c_lld_init:00000034 $t
     /tmp/cc3TIWia.s:786    .text.i2c_lld_start:0000022c $t
     /tmp/cc3TIWia.s:842    .text.i2c_lld_stop:00000064 $t
     /tmp/cc3TIWia.s:975    .text.i2c_lld_master_receive_timeout:000000f8 $t
     /tmp/cc3TIWia.s:1117   .text.i2c_lld_master_transmit_timeout:00000104 $t

UNDEFINED SYMBOLS
dbg_check_lock_from_isr
chSchReadyI
dbg_check_unlock_from_isr
chDbgPanic
ARM GAS  /tmp/cc3TIWia.s 			page 24


dbg_check_enter_isr
dbg_check_leave_isr
_port_irq_epilogue
i2cObjectInit
nvicEnableVector
nvicDisableVector
chVTSetI
dbg_check_unlock
dbg_check_lock
chSchGoSleepS
chVTResetI
rlist
